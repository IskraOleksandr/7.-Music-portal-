@model IEnumerable<Музыкальный_портал__Music_portal_.Models.Music>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br>
<div>
    @foreach (var item in ViewBag.Musics)
    {
        <br> <br>
        <div class="div_m1">
            <div class="div_mess div_m2">
                <h1 class="h1_m">@item.Video_Name (@item.Year)</h1>
                <video controls loop class="video">
                    <source src="@Url.Content(item.Video_URL)" type="video/webm">
                </video>
            </div>
            <div class="div_m3">
                <h2>@item.Video_Name (@item.Year)</h2>
                <p>Исполнитель: @item.Singer.SingerName</p>
                <p>Альбом: @item.Album</p>
                <p>Стиль: @item.MusicStyle.StyleName</p>
                <p>Разместил: @item.User.Login</p>
                <p>Дата публикации: @item.VideoDate</p>
                @if (Context.Session.GetInt32("Level") == 2 && Context.Session.GetString("Login") != null)
                {
                    <a class="a_bt" asp-action="Edit" asp-route-id="@item.Id">Редактировать</a>
                    <a class="a_bt" asp-action="Delete" asp-route-id="@item.Id">Удалить</a>
                }
            </div>
        </div>
        <br> <br> <br>
    }
</div>